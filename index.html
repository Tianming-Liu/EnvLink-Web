<!DOCTYPE html>

<html lang="zh">

<head>
  <meta charset="utf-8" />
  <meta content="width=device-width, initial-scale=1.0" name="viewport" />
  <title>EnvLink</title>
  <link rel="icon" type="image/png" href="./resources/icons/favicon-96x96.png" sizes="96x96" />
  <link rel="icon" type="image/svg+xml" href="./resources/icons/favicon.svg" />
  <link rel="shortcut icon" href="./resources/icons/favicon.ico" />
  <link rel="apple-touch-icon" sizes="180x180" href="./resources/icons/apple-touch-icon.png" />
  <link rel="manifest" href="./resources/icons/site.webmanifest" />
  <link href="./style.css" rel="stylesheet" />
</head>

<body>
  <div aria-hidden="true" class="hud">
    <div class="hud-left" id="hudLeft">
      <div class="hud-left__label">
        <span>EnvLink</span>
        <span>Powered by HSL</span>
      </div>
    </div>
    <div class="hud-right" id="hudRight">
      <div class="hud-right__label">
        <span>Tsinghua University</span>
        <span>School of Architecture</span>
      </div>
      <img alt="Tsinghua University logo" src="./src/img/Tsinghua_University_Logo.png" />
    </div>
  </div>
  <div id="app">
    <div id="status">Loading...</div>
  </div>
  <div class="scroll-hint" id="scrollHint">
    Scroll
    <span class="scroll-hint__arrow"></span>
  </div>
  <div class="batch-legend" id="batchLegend">
    <div class="batch-legend__title">Batch</div>
    <div class="batch-legend__hint">Year admitted to national list</div>
    <div class="batch-legend__items" id="legendItems"></div>
  </div>
  <div class="intro-overlay" id="introOverlay">
    <div class="intro-card">
      <span class="intro-card__label">MAKE DATA-ABSENT HABITATS SENSIBLE</span>
      <h1 class="intro-card__title">Portable Multi-Modal Sensing for Places Data Rarely Reaches</h1>
    </div>
    <div class="intro-card intro-card--secondary">
      <p>
        8,155 villages listed as Chinese 'National Traditional Villages' constitute a unique dataset embodying the
        wisdom of human habitation.
      </p>
    </div>
  </div>
  <div aria-live="polite" class="session-overlay is-hidden" id="sessionOverlay">
    <div class="session-overlay__timeline" id="sessionTimeline"></div>
    <div class="session-overlay__cards">
      <button class="session-overlay__scroll session-overlay__scroll--up" type="button" aria-label="Scroll up"></button>
      <div class="session-overlay__cards-list" data-column="cards"></div>
      <button class="session-overlay__scroll session-overlay__scroll--down" type="button"
        aria-label="Scroll down"></button>
    </div>
  </div>
  <div class="session-cta" id="sessionCta">
    <span>Try our Fusion Viewer to explore typical heritage habitats.</span>
    <a href="./viz_html/viewer.html" target="_blank" rel="noopener">Jump into Viewer →</a>
  </div>
  <div aria-live="polite" class="session-totals" id="sessionTotals">
    <div class="session-totals__grid">
      <div class="session-totals__metric">
        <span>habitats sensed</span>
        <strong data-total="villages">0</strong>
      </div>
      <div class="session-totals__metric">
        <span>Data points</span>
        <strong data-total="datapoints">0</strong>
      </div>
      <div class="session-totals__metric">
        <span>Images Captured</span>
        <strong data-total="images">0</strong>
      </div>
      <div class="session-totals__metric">
        <span>Trajectory length</span>
        <strong data-total="trajectory">0 m</strong>
      </div>
    </div>
  </div>
  <main aria-label="Scroll-triggered story" class="story is-loading">
    <section class="story-block">
      <div class="story-card">
        <span class="story-line" data-story-item>
          Global <span class="accent">sensing networks</span> cluster around cities and places with reliable
          infrastructure.
        </span>
        <span class="story-line" data-story-item>
          Heritage human settlements in rural regions and informal edges <span class="accent">rarely host
            instruments.</span>
        </span>
      </div>
    </section>

    <section class="story-block">
      <div class="story-card">
        <span class="story-line" data-story-item>
          What we lose is more than data; it is the <span class="accent">accumulated wisdom</span> of these human
          habitats.
        </span>
        <span class="story-line" data-story-item>
          These heritage settlements are not voids—they are <span class="accent">archived habitats</span> waiting to be
          recorded again.
        </span>
      </div>
    </section>

    <section class="story-block story-block--sensors" id="sensorShowcase">
      <div class="sensor-stage">
        <div class="sensor-stage__device">
          <img alt="EnvLink sensing kit" loading="lazy" src="./src/img/sensor_line.jpg" />
          <div class="sensor-stage__nodes" data-sensor-nodes></div>
        </div>
        <div class="sensor-stage__panel">
          <div class="sensor-panel__header">
            <p>Walking sensors for heritage human settlements</p>
            <h3>EnvLink Wearable Device</h3>
            <p>Five synchronized modules translate human habitats into multi-modal evidence.</p>
          </div>
          <div class="sensor-panel__rows" data-sensor-rows></div>
        </div>
        <div class="sensor-stage__gallery">
          <div class="sensor-gallery__wrapper" data-sensor-gallery></div>
        </div>
      </div>
    </section>

    <section class="story-block">
      <div class="story-card">
        <span class="story-line" data-story-item>
          We follow heritage human settlements <span class="accent">overlooked or poorly captured</span> by existing
          data platforms.
        </span>
        <span class="story-line" data-story-item>
          Our goal is to make human habitats legible enough to care for – in research, and everyday
          life.
        </span>
      </div>
    </section>
  </main>
  <script src="https://unpkg.com/deck.gl@8.9.36/dist.min.js"></script>
  <script src="https://unpkg.com/gsap@3/dist/gsap.min.js"></script>
  <script src="https://unpkg.com/gsap@3/dist/ScrollTrigger.min.js"></script>
  <script type="module">
    import { initApp } from "./scripts/mapInit.js";
    import { initSensorShowcase } from "./scripts/sensorShowcase.js";
    initApp();
    initSensorShowcase();
  </script>
</body>

</html>